<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Xem Qu·∫£ng C√°o & Quay Th∆∞·ªüng</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f4f4f4;
      padding: 50px;
    }
    input, button {
      font-size: 18px;
      padding: 10px 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-top: 10px;
    }
    button {
      background-color: #28a745;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:disabled {
      background-color: gray;
    }
    #status {
      margin-top: 20px;
      font-size: 18px;
      color: #0033cc;
    }
    
    /* Hi·ªáu ·ª©ng fade-in cho th√¥ng b√°o */
    .fade-in {
      animation: fadeIn 1.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Style cho slot machine v·ªõi 3 slot */
    #slotMachine {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 30px auto;
      display: none;
    }
    .slot {
      font-size: 60px;
      margin: 0 10px;
    }
    
    /* Style cho ph·∫ßn l·ª±a ch·ªçn m·ª©c ƒë·ªô */
    #levelSelection {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>üéÅ Nh·∫≠n Qu√† Xem Qu·∫£ng C√°o v√† Quay S·ªë üéÅ</h1>

  <!-- Khu v·ª±c nh·∫≠p t√™n ban ƒë·∫ßu -->
  <div id="inputArea">
    <input type="text" id="playerName" placeholder="T√™n Minecraft c·ªßa b·∫°n">
    <br>
    <button onclick="saveName()">X√°c nh·∫≠n T√™n</button>
  </div>

  <!-- Khu v·ª±c game: hi·ªÉn th·ªã t√™n, l·ª±a ch·ªçn m·ª©c ƒë·ªô, v√† c√°c n√∫t t∆∞∆°ng t√°c -->
  <div id="gameArea" style="display:none;">
    <p><strong>T√™n c·ªßa b·∫°n:</strong> <span id="displayName"></span></p>
    
 <!-- Ph·∫ßn L·ª±a ch·ªçn M·ª©c ƒê·ªô -->
<div id="levelSelection">
  <p>Ch·ªçn M·ª©c ƒê·ªô:</p>
  <div class="levels">
    <label class="levelOption">
      <input type="radio" name="level" value="thuong">
      <span>Th∆∞·ªùng (20%)</span>
    </label>
    <label class="levelOption">
      <input type="radio" name="level" value="hien">
      <span>Hi·∫øm (5%)</span>
    </label>
    <label class="levelOption">
      <input type="radio" name="level" value="sieuhien">
      <span>Si√™u hi·∫øm (1%)</span>
    </label>
  </div>
  <button onclick="confirmLevel()">X√°c nh·∫≠n M·ª©c ƒë·ªô</button>
</div>

    
    <!-- N√∫t ƒë·ªÉ m·ªü qu·∫£ng c√°o (s·∫Ω hi·ªán khi ch·ªçn m·ª©c ƒë·ªô) -->
    <button id="adButton" onclick="watchAd()" style="display:none;">Xem Qu·∫£ng C√°o</button>
    
    <!-- N√∫t ƒë·ªÉ quay: xu·∫•t hi·ªán sau khi xem qu·∫£ng c√°o xong -->
    <button id="spinButton" onclick="spinSlot()" style="display:none;">B·∫•m ƒê·ªÉ Quay</button>
    
    <!-- Container hi·ªÉn th·ªã m√°y slot v·ªõi 3 slot -->
    <div id="slotMachine">
      <span class="slot" id="slot1"></span>
      <span class="slot" id="slot2"></span>
      <span class="slot" id="slot3"></span>
    </div>
    
    <div id="status"></div>
  </div>

  <script>
    // Bi·∫øn to√†n c·ª•c l∆∞u m·ª©c ƒë·ªô ƒë√£ ch·ªçn (x√°c su·∫•t th·∫Øng v√† t√™n m·ª©c ƒë·ªô)
    let selectedProbability = 0;
    let selectedLevelName = "";
    
    // L∆∞u t√™n ng∆∞·ªùi ch∆°i v√† chuy·ªÉn sang giao di·ªán game
    function saveName() {
      const name = document.getElementById("playerName").value.trim();
      if (!name) {
        alert("‚ùó Vui l√≤ng nh·∫≠p t√™n Minecraft.");
        return;
      }
      localStorage.setItem("playerName", name);
      showGameSection();
    }
    
    // Hi·ªÉn th·ªã khu v·ª±c game n·∫øu ƒë√£ l∆∞u t√™n
    function showGameSection() {
      const name = localStorage.getItem("playerName");
      if (name) {
        document.getElementById("inputArea").style.display = "none";
        document.getElementById("gameArea").style.display = "block";
        document.getElementById("displayName").innerText = name;
      }
    }
    
    // H√†m x√°c nh·∫≠n m·ª©c ƒë·ªô d·ª±a tr√™n l·ª±a ch·ªçn c·ªßa ng∆∞·ªùi ch∆°i
    function confirmLevel() {
      const radios = document.getElementsByName("level");
      let levelChosen = null;
      for (let i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
          levelChosen = radios[i].value;
          break;
        }
      }
      if (!levelChosen) {
        alert("‚ùó Vui l√≤ng ch·ªçn m·ª©c ƒë·ªô.");
        return;
      }
      
      if (levelChosen === "thuong") {
        selectedProbability = 0.20;
        selectedLevelName = "Th∆∞·ªùng (20%)";
      } else if (levelChosen === "hien") {
        selectedProbability = 0.05;
        selectedLevelName = "Hi·∫øm (5%)";
      } else if (levelChosen === "sieuhien") {
        selectedProbability = 0.01;
        selectedLevelName = "Si√™u hi·∫øm (1%)";
      }
      
      // ·∫®n ph·∫ßn l·ª±a ch·ªçn m·ª©c ƒë·ªô v√† hi·ªÉn th·ªã n√∫t xem qu·∫£ng c√°o
      document.getElementById("levelSelection").style.display = "none";
      document.getElementById("adButton").style.display = "inline-block";
    }
    
    // H√†m m·ªü qu·∫£ng c√°o; sau 5 gi√¢y s·∫Ω ·∫©n n√∫t "Xem Qu·∫£ng C√°o" v√† hi·ªán n√∫t "B·∫•m ƒê·ªÉ Quay"
    function watchAd() {
      const playerName = localStorage.getItem("playerName");
      if (!playerName) return;
      
      // M·ªü qu·∫£ng c√°o trong tab m·ªõi
      window.open("https://favourableafter.com/a27wdsgvkg?key=a17d0d294dc6fb83b60c99ae9f8203d4", "_blank");
      
      const adButton = document.getElementById("adButton");
      adButton.disabled = true;
      adButton.innerText = "ƒêang xem qu·∫£ng c√°o...";
      document.getElementById("status").innerText = "‚è≥ Vui l√≤ng ch·ªù 5 gi√¢y...";
      
      setTimeout(() => {
        document.getElementById("status").innerText = "";
        adButton.style.display = "none";
        document.getElementById("spinButton").style.display = "inline-block";
      }, 5000);
    }
    
    // H√†m th·ª±c hi·ªán hi·ªáu ·ª©ng quay cho m√°y slot v·ªõi 3 slot
    function spinSlot() {
      const playerName = localStorage.getItem("playerName");
      if (!playerName) return;
      
      const spinButton = document.getElementById("spinButton");
      spinButton.disabled = true;
      spinButton.innerText = "ƒêang quay...";
      
      const slotMachine = document.getElementById("slotMachine");
      slotMachine.style.display = "flex";
      
      // M·∫£ng c√°c bi·ªÉu t∆∞·ª£ng c·ªßa slot
      const symbols = ["üçí", "üçã", "üçä", "üçá", "üçâ", "‚≠ê", "üîî"];
      
      // L·∫•y c√°c slot ri√™ng l·∫ª
      const slot1 = document.getElementById("slot1");
      const slot2 = document.getElementById("slot2");
      const slot3 = document.getElementById("slot3");
      
      // Hi·ªáu ·ª©ng quay: c·∫≠p nh·∫≠t 3 slot m·ªói 100ms trong 3 gi√¢y
      let spinInterval = setInterval(() => {
        slot1.innerText = symbols[Math.floor(Math.random() * symbols.length)];
        slot2.innerText = symbols[Math.floor(Math.random() * symbols.length)];
        slot3.innerText = symbols[Math.floor(Math.random() * symbols.length)];
      }, 100);
      
      // Sau 3 gi√¢y, d·ª´ng hi·ªáu ·ª©ng quay v√† hi·ªÉn th·ªã k·∫øt qu·∫£ ban ƒë·∫ßu
      setTimeout(() => {
        clearInterval(spinInterval);
        
        // L·∫•y k·∫øt qu·∫£ ban ƒë·∫ßu ng·∫´u nhi√™n (s·∫Ω b·ªã thay ƒë·ªïi l·∫°i sau 1 gi√¢y theo ƒëi·ªÅu ki·ªán th·∫Øng/thua)
        let final1 = symbols[Math.floor(Math.random() * symbols.length)];
        let final2 = symbols[Math.floor(Math.random() * symbols.length)];
        let final3 = symbols[Math.floor(Math.random() * symbols.length)];
        
        slot1.innerText = final1;
        slot2.innerText = final2;
        slot3.innerText = final3;
        
        // Gi·ªØ k·∫øt qu·∫£ hi·ªÉn th·ªã th√™m 1 gi√¢y tr∆∞·ªõc khi quy·∫øt ƒë·ªãnh k·∫øt qu·∫£ cu·ªëi c√πng
setTimeout(() => {
  let randomValue = Math.random();
  if (randomValue < selectedProbability) {
    // TH·∫ÆNG: √©p hi·ªÉn th·ªã 3 bi·ªÉu t∆∞·ª£ng gi·ªëng nhau
    let winningSymbol = symbols[Math.floor(Math.random() * symbols.length)];
    slot1.innerText = winningSymbol;
    slot2.innerText = winningSymbol;
    slot3.innerText = winningSymbol;
    document.getElementById("status").innerHTML = 
      "<span class='fade-in'>‚úÖ Ch√∫c m·ª´ng, b·∫°n ƒë√£ tr√∫ng th∆∞·ªüng m·ª©c " + selectedLevelName + "!</span>";
    // G·ª≠i th√¥ng tin qua Discord Webhook (n·∫øu c·∫ßn)
    fetch("https://discord.com/api/webhooks/1378766894030393395/bPVZ8AMpX1woGC16YxW8j9OV4cpDtqA14P1etqjMtyfPCWL0YnDe61M6GqWgQEJBZc3i", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        content: `Ng∆∞·ªùi ch∆°i **${playerName}** ƒë√£ tr√∫ng th∆∞·ªüng m·ª©c **${selectedLevelName}**`
      })
    });
  } else {
    // THUA: ƒë·∫£m b·∫£o r·∫±ng 3 bi·ªÉu t∆∞·ª£ng lu√¥n kh√°c nhau
    // T·∫°o m·ªôt m·∫£ng sao ch√©p c·ªßa symbols, tr·ªôn ng·∫´u nhi√™n v√† l·∫•y 3 gi√° tr·ªã ƒë·∫ßu ti√™n
    let shuffledSymbols = symbols.slice().sort(() => Math.random() - 0.5);
    slot1.innerText = shuffledSymbols[0];
    slot2.innerText = shuffledSymbols[1];
    slot3.innerText = shuffledSymbols[2];
    document.getElementById("status").innerHTML = 
      "<span class='fade-in'>‚ùå R·∫•t ti·∫øc, b·∫°n kh√¥ng tr√∫ng th∆∞·ªüng. H√£y th·ª≠ l·∫°i!</span>";
  }
  
  // Reset giao di·ªán
  spinButton.disabled = false;
  spinButton.innerText = "Quay L·∫°i";
  spinButton.style.display = "none";
  slotMachine.style.display = "none";
  document.getElementById("adButton").style.display = "inline-block";
  document.getElementById("adButton").disabled = false;
  document.getElementById("adButton").innerText = "Xem Qu·∫£ng C√°o";
}, 1000);
      }, 3000);
    }
    
    window.onload = function() {
      showGameSection();
    };
  </script>
</body>
</html>
