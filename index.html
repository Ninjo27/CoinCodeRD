<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Nh·∫≠n Qu√† Xem Qu·∫£ng C√°o & Quay S·ªë</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f4f4f4;
      padding: 50px;
    }
    input, button {
      font-size: 18px;
      padding: 10px 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-top: 10px;
    }
    button {
      background-color: #28a745;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:disabled {
      background-color: gray;
    }
    #status {
      margin-top: 20px;
      font-size: 18px;
      color: #0033cc;
    }
    
    /* Hi·ªáu ·ª©ng fade-in cho th√¥ng b√°o */
    .fade-in {
      animation: fadeIn 1.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Style cho slot machine v·ªõi 3 slot */
    #slotMachine {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 30px auto;
      display: none;
    }
    .slot {
      font-size: 60px;
      margin: 0 10px;
    }
  </style>
</head>
<body>
  <h1>üéÅ Nh·∫≠n Qu√† Xem Qu·∫£ng C√°o v√† Quay S·ªë üéÅ</h1>

  <!-- Khu v·ª±c nh·∫≠p t√™n ban ƒë·∫ßu -->
  <div id="inputArea">
    <input type="text" id="playerName" placeholder="T√™n Minecraft c·ªßa b·∫°n">
    <br>
    <button onclick="saveName()">X√°c nh·∫≠n T√™n</button>
  </div>

  <!-- Khu v·ª±c game: hi·ªÉn th·ªã t√™n ng∆∞·ªùi ch∆°i v√† c√°c n√∫t t∆∞∆°ng t√°c -->
  <div id="gameArea" style="display:none;">
    <p><strong>T√™n c·ªßa b·∫°n:</strong> <span id="displayName"></span></p>
    
    <!-- N√∫t ƒë·ªÉ m·ªü qu·∫£ng c√°o -->
    <button id="adButton" onclick="watchAd()">Xem Qu·∫£ng C√°o</button>
    
    <!-- N√∫t ƒë·ªÉ quay: xu·∫•t hi·ªán sau khi qu·∫£ng c√°o xem xong -->
    <button id="spinButton" onclick="spinSlot()" style="display:none;">B·∫•m ƒê·ªÉ Quay</button>
    
    <!-- Container hi·ªÉn th·ªã m√°y slot v·ªõi 3 slot -->
    <div id="slotMachine">
      <span class="slot" id="slot1"></span>
      <span class="slot" id="slot2"></span>
      <span class="slot" id="slot3"></span>
    </div>
    
    <div id="status"></div>
  </div>

  <script>
    // L∆∞u t√™n ng∆∞·ªùi ch∆°i v√† chuy·ªÉn sang giao di·ªán game
    function saveName() {
      const name = document.getElementById("playerName").value.trim();
      if (!name) {
        alert("‚ùó Vui l√≤ng nh·∫≠p t√™n Minecraft.");
        return;
      }
      localStorage.setItem("playerName", name);
      showGameSection();
    }
    
    // Hi·ªÉn th·ªã khu v·ª±c game n·∫øu ƒë√£ l∆∞u t√™n
    function showGameSection() {
      const name = localStorage.getItem("playerName");
      if (name) {
        document.getElementById("inputArea").style.display = "none";
        document.getElementById("gameArea").style.display = "block";
        document.getElementById("displayName").innerText = name;
      }
    }

    // H√†m m·ªü qu·∫£ng c√°o; sau 7 gi√¢y, ·∫©n n√∫t xem qu·∫£ng c√°o v√† hi·ªÉn th·ªã n√∫t quay
    function watchAd() {
      const playerName = localStorage.getItem("playerName");
      if (!playerName) return;
      
      // M·ªü qu·∫£ng c√°o trong tab m·ªõi
      window.open("https://favourableafter.com/a27wdsgvkg?key=a17d0d294dc6fb83b60c99ae9f8203d4", "_blank");
      
      const adButton = document.getElementById("adButton");
      adButton.disabled = true;
      adButton.innerText = "ƒêang xem qu·∫£ng c√°o...";
      document.getElementById("status").innerText = "‚è≥ Vui l√≤ng ch·ªù 7 gi√¢y...";
      
      setTimeout(() => {
        // Sau 7 gi√¢y chuy·ªÉn sang b∆∞·ªõc quay
        document.getElementById("status").innerText = "";
        adButton.style.display = "none";
        document.getElementById("spinButton").style.display = "inline-block";
      }, 7000);
    }
    
    // H√†m th·ª±c hi·ªán hi·ªáu ·ª©ng quay c·ªßa m√°y slot v·ªõi 3 slot
    function spinSlot() {
      const playerName = localStorage.getItem("playerName");
      if (!playerName) return;
      
      const spinButton = document.getElementById("spinButton");
      spinButton.disabled = true;
      spinButton.innerText = "ƒêang quay...";
      
      const slotMachine = document.getElementById("slotMachine");
      slotMachine.style.display = "flex";
      
      // M·∫£ng c√°c bi·ªÉu t∆∞·ª£ng c·ªßa slot
      const symbols = ["üçí", "üçã", "üçä", "üçá", "üçâ", "‚≠ê", "üîî"];
      
      // L·∫•y c√°c slot ri√™ng l·∫ª
      const slot1 = document.getElementById("slot1");
      const slot2 = document.getElementById("slot2");
      const slot3 = document.getElementById("slot3");
      
      // Hi·ªáu ·ª©ng quay: c·∫≠p nh·∫≠t 3 slot m·ªói 100ms
      let spinInterval = setInterval(() => {
        slot1.innerText = symbols[Math.floor(Math.random() * symbols.length)];
        slot2.innerText = symbols[Math.floor(Math.random() * symbols.length)];
        slot3.innerText = symbols[Math.floor(Math.random() * symbols.length)];
      }, 100);
      
      // Sau 3 gi√¢y d·ª´ng hi·ªáu ·ª©ng quay v√† ch·ªçn k·∫øt qu·∫£ cu·ªëi c√πng
      setTimeout(() => {
        clearInterval(spinInterval);
        
        // X√°c ƒë·ªãnh k·∫øt qu·∫£ cu·ªëi c√πng cho m·ªói slot
        const final1 = symbols[Math.floor(Math.random() * symbols.length)];
        const final2 = symbols[Math.floor(Math.random() * symbols.length)];
        const final3 = symbols[Math.floor(Math.random() * symbols.length)];
        
        slot1.innerText = final1;
        slot2.innerText = final2;
        slot3.innerText = final3;
        
        // Ki·ªÉm tra n·∫øu c·∫£ 3 slot tr√πng kh·ªõp
        if (final1 === final2 && final2 === final3) {
          // N·∫øu tr√∫ng th∆∞·ªüng, ch·ªù 1 gi√¢y r·ªìi th√¥ng b√°o
          setTimeout(() => {
            document.getElementById("status").innerHTML = "<span class='fade-in'>‚úÖ Ch√∫c m·ª´ng, b·∫°n ƒë√£ tr√∫ng th∆∞·ªüng!";
            // G·ª≠i th√¥ng tin qua Discord Webhook
            fetch("https://discord.com/api/webhooks/1378766894030393395/bPVZ8AMpX1woGC16YxW8j9OV4cpDtqA14P1etqjMtyfPCWL0YnDe61M6GqWgQEJBZc3i", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({
                content: `Ng∆∞·ªùi ch∆°i **${playerName}** ƒë√£ tr√∫ng th∆∞·ªüng`
              })
            });
          }, 1000);
        } else {
          // N·∫øu kh√¥ng tr√πng, th√¥ng b√°o ngay
          document.getElementById("status").innerHTML = "<span class='fade-in'>‚ùå R·∫•t ti·∫øc, b·∫°n kh√¥ng tr√∫ng th∆∞·ªüng. H√£y th·ª≠ l·∫°i!</span>";
        }
        
        // Reset giao di·ªán: ·∫©n slot machine, hi·ªÉn th·ªã l·∫°i n√∫t "Xem Qu·∫£ng C√°o"
        spinButton.disabled = false;
        spinButton.innerText = "Quay L·∫°i";
        spinButton.style.display = "none";
        slotMachine.style.display = "none";
        
        const adButton = document.getElementById("adButton");
        adButton.style.display = "inline-block";
        adButton.disabled = false;
        adButton.innerText = "Xem Qu·∫£ng C√°o";
      }, 3000);
    }
    
    window.onload = function() {
      showGameSection();
    };
  </script>
</body>
</html>
